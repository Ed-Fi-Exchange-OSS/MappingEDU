<!--
SPDX-License-Identifier: Apache-2.0
Licensed to the Ed-Fi Alliance under one or more agreements.
The Ed-Fi Alliance licenses this file to you under the Apache License, Version 2.0.
See the LICENSE and NOTICES files in the project root for more information.
-->

<div class="modal-header">
    {{enumeration.Mapping.SystemEnumerationItemMapId ? 'Edit' : 'Add' }} Enumeration Mapping
</div>
<div class="modal-body">
    <form name="enumerationItemMappingForm"
          novalidate>
        <div class="row">
            <div class="col-md-3">
                <label class="control-label">Code Value:</label>
            </div>
            <div class="col-md-9">
                {{enumeration.CodeValue}}
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <label class="control-label">Short Description:</label>
            </div>
            <div class="col-md-9">
                {{enumeration.ShortDescription}}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 form-group">
                <label class="control-label">Mapping Status:</label>
                <select class="form-control"
                        ng-model="enumeration.Mapping.EnumerationMappingStatusTypeId"
                        ng-options="item.Id as item.DisplayText for item in enumerationMappingStatusTypes | filter: elementDetailMappingViewModel.filterMappingStatusType()"
                        name="enumerationMappingStatusType"
                        required></select>
            </div>
            <div class="col-md-12 form-group">
                <label class="control-label">Status Reason:</label>
                <select class="form-control"
                        ng-model="enumeration.Mapping.EnumerationMappingStatusReasonTypeId"
                        ng-options="item.Id as item.DisplayText for item in enumerationMappingStatusReasonTypes"
                        name="enumerationMappingStatusReasonType"
                        required></select>
            </div>
            <div class="col-md-12 form-group">
                <label class="control-label">Deferred Mapping: </label>&nbsp;
                <input style="vertical-align: middle" type="checkbox" ng-model="enumeration.Mapping.DeferredMapping" />
            </div>
            <div class="col-md-12 form-group">
                <label class="control-label">Mapping Logic:</label>
                <select class="form-control"
                        ng-model="enumeration.Mapping.TargetSystemEnumerationItemId"
                        ng-options="item.SystemEnumerationItemId as getTargetPath(item.SystemItem) + '.' + item.CodeValue for item in targetEnumerationItems
                                        | filter:{ CodeValue: '!!'}"
                        name="targetSystemEnumerationItemId"
                        required></select>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <div class="row">
        <div class="col-md-12 pull-right">
            <button type="button" class="btn btn-cancel" ng-click="close()">
                <i class="fa"></i> Cancel
            </button>
            <button type="submit" class="btn" ng-class="{'btn-add': !enumeration.Mapping.SystemEnumerationItemMapId, 'btn-save': enumeration.Mapping.SystemEnumerationItemMapId}" ng-click="save()">
                <i class="fa"></i> {{enumeration.Mapping.SystemEnumerationItemMapId ? 'Save' : 'Add'}}
            </button>
        </div>
    </div>
</div>
